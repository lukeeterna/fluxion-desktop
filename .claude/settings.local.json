{
  "permissions": {
    "allow": [
      "Bash(sudo diskutil mount:*)",
      "Bash(diskutil mount:*)",
      "Bash(diskutil info:*)",
      "Bash(test:*)",
      "Bash(cat:*)",
      "Bash(node --version:*)",
      "Bash(npm:*)",
      "Bash(rustc:*)",
      "Bash(cargo --version:*)",
      "Bash(curl:*)",
      "Bash(sh -s -- -y)",
      "Bash(source:*)",
      "Bash(rm:*)",
      "Bash(npx shadcn@latest init --defaults --force)",
      "Bash(npx tailwindcss init -p)",
      "Bash(npx shadcn@latest add button card input table dialog dropdown-menu tabs toast sheet separator avatar badge calendar popover select textarea label switch)",
      "Bash(npx shadcn@latest add button card input table dialog dropdown-menu tabs sonner sheet separator avatar badge calendar popover select textarea label switch)",
      "Bash(cargo add:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill -9)",
      "Bash(timeout 60 npm run tauri dev:*)",
      "Bash(export PATH=\"$HOME/.cargo/bin:$PATH\")",
      "Bash(export PATH=$HOME/.cargo/bin:$PATH)",
      "Bash(npx tsc:*)",
      "Bash(cargo clippy:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(cargo build:*)",
      "Bash(if [ -d .git ])",
      "Bash(then echo \"Git già inizializzato\")",
      "Bash(else git init)",
      "Bash(fi)",
      "Bash(https://api.github.com/user/repos )",
      "Bash(git remote add:*)",
      "Bash(git remote set-url:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(diskutil list:*)",
      "Bash(git clone:*)",
      "Bash(git rm:*)",
      "Bash(find:*)",
      "Bash(ls:*)",
      "Bash(sqlite3:*)",
      "Bash(cp:*)",
      "Bash(git fetch:*)",
      "Bash(timeout 120 git push origin master)",
      "Bash(echo:*)",
      "Bash(cargo check:*)",
      "Bash(gh run list:*)",
      "Bash(python3:*)",
      "Bash(npx husky init)",
      "Bash(chmod:*)",
      "Bash(cargo fmt:*)",
      "Bash(cargo test:*)",
      "WebFetch(domain:github.com)",
      "Bash(brew install:*)",
      "Bash(for:*)",
      "Bash(unzip:*)",
      "Bash(xxd:*)",
      "Bash(paste:*)",
      "WebSearch",
      "Bash(node -e:*)",
      "Bash(/usr/bin/curl:*)",
      "Bash(~/.cargo/bin/cargo test:*)",
      "Bash(xargs:*)",
      "Bash(ssh:*)",
      "WebFetch(domain:api.github.com)",
      "Bash(npx eslint:*)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(git pull:*)",
      "Bash(git stash:*)",
      "Bash(ping:*)",
      "Bash(pkill:*)",
      "Bash(timeout 10 ssh:*)",
      "Bash(ssh-keygen:*)",
      "Bash(ssh-copy-id:*)",
      "Bash(nc:*)",
      "Bash(gh api:*)",
      "Bash(gh run view:*)",
      "Bash(npx yaml-lint:*)",
      "Bash($HOME/.cargo/bin/cargo test:*)",
      "Bash($HOME/.cargo/bin/cargo check:*)",
      "Bash(/Users/macbook/.cargo/bin/cargo test:*)",
      "Bash(git merge:*)",
      "Bash(sw_vers:*)",
      "WebFetch(domain:docs.crabnebula.dev)",
      "WebFetch(domain:www.npmjs.com)",
      "Bash(gh label create:*)",
      "Bash(gh pr create:*)",
      "Bash(git config:*)",
      "Bash(bash:*)",
      "Bash(pip install:*)",
      "Bash(PYTHONPATH=. python3:*)",
      "Bash(npx playwright install chromium)",
      "Bash(TAURI_DEV_URL=http://localhost:1420 npx playwright test:*)",
      "Bash(scp:*)",
      "Bash(python -c:*)",
      "Bash(python -m pytest:*)",
      "Bash(pip3 install:*)",
      "Bash(python3.11:*)",
      "Bash(python3.10:*)",
      "Bash(~/.cargo/bin/cargo check:*)",
      "Bash(PATH=\"$HOME/.cargo/bin:$PATH\" npm run tauri:*)",
      "Bash(perl:*)",
      "Bash(~/.cargo/bin/cargo update:*)",
      "Bash(rsync:*)",
      "Bash(python:*)",
      "Bash(open:*)",
      "Bash(gh workflow:*)",
      "Bash(brew list:*)",
      "Bash(PATH=\"$HOME/.cargo/bin:$PATH\" npm run test:smoke)",
      "Bash(PATH=\"/usr/local/bin:$HOME/.cargo/bin:$PATH\" /usr/local/bin/npm run test:smoke:*)",
      "Bash(PATH=\"/usr/local/bin:$HOME/.cargo/bin:$PATH\" npx playwright test:*)",
      "Bash(PATH=\"/usr/local/bin:$HOME/.cargo/bin:$PATH\" npx playwright install:*)",
      "WebFetch(domain:keygen.sh)",
      "Bash(PATH=\"$HOME/.cargo/bin:$PATH\" cargo check:*)",
      "Bash(export PATH=\"/Users/macbook/.cargo/bin:$PATH\")",
      "Bash(/Users/macbook/.cargo/bin/cargo check:*)",
      "Bash(node /Volumes/MontereyT7/FLUXION/scripts/bump-version.js:*)",
      "Bash(node /Volumes/MontereyT7/FLUXION/scripts/bump-version.cjs:*)",
      "Bash(afplay:*)",
      "Bash(timeout 3 node:*)",
      "Bash(node test-mcp.js:*)",
      "Bash(head:*)",
      "Bash(wc:*)",
      "Bash(tar:*)",
      "Bash(git reset:*)",
      "Bash(kill:*)",
      "Bash(sleep:*)",
      "Bash(mkdir:*)",
      "Bash(touch:*)",
      "Bash(tail:*)",
      "WebFetch(domain:developers.yourang.ai)",
      "WebFetch(domain:www.yourang.ai)",
      "WebFetch(domain:groq.com)",
      "WebFetch(domain:console.groq.com)",
      "WebFetch(domain:v2.tauri.app)",
      "Bash(pip3 search:*)",
      "Bash(pip3 index:*)",
      "Bash(pip3 show:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION status)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION diff)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION log --oneline -5)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION diff --stat)",
      "Bash(Distasi\"\\), split and skip REGISTERING_SURNAME, go directly to phone\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git checkout:*)",
      "Bash(npx get-shit-done-cc:*)",
      "Bash(npx bmad-method@latest install)",
      "Skill(gsd:progress)",
      "Bash(pip3 list:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION log --oneline -3)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION add CLAUDE.md .claude/rules/rust-backend.md .claude/rules/react-frontend.md .claude/rules/voice-agent.md .claude/rules/testing.md docs/CONTEXT-OPTIMIZATION-GUIDE.md docs/context/BUG-TRACKER.md docs/context/BUSINESS-MODEL.md docs/context/INFRASTRUCTURE.md docs/context/PROJECT-STATUS.md docs/context/SUPPLIER-MANAGEMENT.md docs/context/VOICE-AGENT-ROADMAP.md)",
      "Bash(le 17\"\\). Add Groq LLM as Layer 2 fallback for surname extraction,\nphone-state corrections, confirmation parsing, and time preferences.\n\n- New groq_nlu.py: 4 state-specific extractors with JSON schema prompts\n- booking_state_machine.py: 3 Groq fallback patches \\(surname, phone, confirming\\)\n- entity_extractor.py: interjection blacklist + operator blacklist + time patterns\n- orchestrator.py: wire GroqNLU instance to BookingStateMachine\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "WebFetch(domain:pypi.org)",
      "Bash(PYTHONPATH=src python:*)",
      "Bash(1 ')",
      "Bash(voglio prenotare\"\\), _handle_idle skipped the greeting and went straight\nto ask_service. Now includes \"Piacere {name}!\" before the service question.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Volumes/MontereyT7/FLUXION add voice-agent/src/booking_state_machine.py voice-agent/src/orchestrator.py voice-agent/tests/test_booking_state_machine.py)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION commit -m \"$\\(cat <<''EOF''\nfix\\(voice\\): 4 Gino conversation bugs — name loss, multi-service, session reset, client lookup\n\nBUG 1: Registration surname \"Di Nanni\" no longer overwrites client_name \"Gino\".\n  sanitize_name_pair split was treated as full name; now checks if client_name\n  already set with a different value and treats input as surname instead.\n\nBUG 2: Multi-service \\(\"taglio e barba\"\\) now included in booking dict with\n  services \\(plural\\) and service_display fields. Wired extract_multi_services\n  from italian_regex as fallback. Orchestrator uses service_display in payload.\n\nBUG 4: Added reset_for_new_booking\\(\\) preserving client identity \\(id, name,\n  surname, phone, email\\) while clearing booking fields. Used on COMPLETED/\n  CANCELLED transitions instead of full reset\\(\\).\n\nBUG 5: _handle_idle skips DB lookup when client_id already set \\(follow-up\n  booking in same call\\). Shows \"Certo {name}!\" instead of re-searching.\n\n12 regression tests added, full suite: 877 passed, 0 failures.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Volumes/MontereyT7/FLUXION status --short)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION add:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION commit -m \"$\\(cat <<''EOF''\ndocs: update CLAUDE.md with Italian regex NLU + 4 bug fixes status\n\n877 tests passing. Italian regex module \\(650+ lines, 8 categories\\),\nL0-PRE content filter, 4 Gino conversation bugs fixed, live verified.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git status:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION commit:*)",
      "WebFetch(domain:www.kimi.com)",
      "Bash(IMAC=\"http://192.168.1.7:3002\" __NEW_LINE_3b8604fe83cf28b1__ echo \"=== STEP 0: Reset ===\" curl -s -X POST \"$IMAC/reset\")",
      "Bash(grep:*)",
      "mcp__claude_ai_Hugging_Face__hub_repo_search"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "bash /Volumes/MontereyT7/FLUXION/.claude/hooks/session-start.sh"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": ".*voice.*|.*pipeline.*|.*Sara.*",
        "hooks": [
          {
            "type": "command",
            "command": "bash /Volumes/MontereyT7/FLUXION/.claude/hooks/check-services.sh"
          }
        ]
      }
    ]
  }
}
