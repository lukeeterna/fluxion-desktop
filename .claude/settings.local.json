{
  "permissions": {
    "allow": [
      "Bash(sudo diskutil mount:*)",
      "Bash(diskutil mount:*)",
      "Bash(diskutil info:*)",
      "Bash(test:*)",
      "Bash(cat:*)",
      "Bash(node --version:*)",
      "Bash(npm:*)",
      "Bash(rustc:*)",
      "Bash(cargo --version:*)",
      "Bash(curl:*)",
      "Bash(sh -s -- -y)",
      "Bash(source:*)",
      "Bash(rm:*)",
      "Bash(npx shadcn@latest init --defaults --force)",
      "Bash(npx tailwindcss init -p)",
      "Bash(npx shadcn@latest add button card input table dialog dropdown-menu tabs toast sheet separator avatar badge calendar popover select textarea label switch)",
      "Bash(npx shadcn@latest add button card input table dialog dropdown-menu tabs sonner sheet separator avatar badge calendar popover select textarea label switch)",
      "Bash(cargo add:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill -9)",
      "Bash(timeout 60 npm run tauri dev:*)",
      "Bash(export PATH=\"$HOME/.cargo/bin:$PATH\")",
      "Bash(export PATH=$HOME/.cargo/bin:$PATH)",
      "Bash(npx tsc:*)",
      "Bash(cargo clippy:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(cargo build:*)",
      "Bash(if [ -d .git ])",
      "Bash(then echo \"Git già inizializzato\")",
      "Bash(else git init)",
      "Bash(fi)",
      "Bash(https://api.github.com/user/repos )",
      "Bash(git remote add:*)",
      "Bash(git remote set-url:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(diskutil list:*)",
      "Bash(git clone:*)",
      "Bash(git rm:*)",
      "Bash(find:*)",
      "Bash(ls:*)",
      "Bash(sqlite3:*)",
      "Bash(cp:*)",
      "Bash(git fetch:*)",
      "Bash(timeout 120 git push origin master)",
      "Bash(echo:*)",
      "Bash(cargo check:*)",
      "Bash(gh run list:*)",
      "Bash(python3:*)",
      "Bash(npx husky init)",
      "Bash(chmod:*)",
      "Bash(cargo fmt:*)",
      "Bash(cargo test:*)",
      "WebFetch(domain:github.com)",
      "Bash(brew install:*)",
      "Bash(for:*)",
      "Bash(unzip:*)",
      "Bash(xxd:*)",
      "Bash(paste:*)",
      "WebSearch",
      "Bash(node -e:*)",
      "Bash(/usr/bin/curl:*)",
      "Bash(~/.cargo/bin/cargo test:*)",
      "Bash(xargs:*)",
      "Bash(ssh:*)",
      "WebFetch(domain:api.github.com)",
      "Bash(npx eslint:*)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(git pull:*)",
      "Bash(git stash:*)",
      "Bash(ping:*)",
      "Bash(pkill:*)",
      "Bash(timeout 10 ssh:*)",
      "Bash(ssh-keygen:*)",
      "Bash(ssh-copy-id:*)",
      "Bash(nc:*)",
      "Bash(gh api:*)",
      "Bash(gh run view:*)",
      "Bash(npx yaml-lint:*)",
      "Bash($HOME/.cargo/bin/cargo test:*)",
      "Bash($HOME/.cargo/bin/cargo check:*)",
      "Bash(/Users/macbook/.cargo/bin/cargo test:*)",
      "Bash(git merge:*)",
      "Bash(sw_vers:*)",
      "WebFetch(domain:docs.crabnebula.dev)",
      "WebFetch(domain:www.npmjs.com)",
      "Bash(gh label create:*)",
      "Bash(gh pr create:*)",
      "Bash(git config:*)",
      "Bash(bash:*)",
      "Bash(pip install:*)",
      "Bash(PYTHONPATH=. python3:*)",
      "Bash(npx playwright install chromium)",
      "Bash(TAURI_DEV_URL=http://localhost:1420 npx playwright test:*)",
      "Bash(scp:*)",
      "Bash(python -c:*)",
      "Bash(python -m pytest:*)",
      "Bash(pip3 install:*)",
      "Bash(python3.11:*)",
      "Bash(python3.10:*)",
      "Bash(~/.cargo/bin/cargo check:*)",
      "Bash(PATH=\"$HOME/.cargo/bin:$PATH\" npm run tauri:*)",
      "Bash(perl:*)",
      "Bash(~/.cargo/bin/cargo update:*)",
      "Bash(rsync:*)",
      "Bash(python:*)",
      "Bash(open:*)",
      "Bash(gh workflow:*)",
      "Bash(brew list:*)",
      "Bash(PATH=\"$HOME/.cargo/bin:$PATH\" npm run test:smoke)",
      "Bash(PATH=\"/usr/local/bin:$HOME/.cargo/bin:$PATH\" /usr/local/bin/npm run test:smoke:*)",
      "Bash(PATH=\"/usr/local/bin:$HOME/.cargo/bin:$PATH\" npx playwright test:*)",
      "Bash(PATH=\"/usr/local/bin:$HOME/.cargo/bin:$PATH\" npx playwright install:*)",
      "WebFetch(domain:keygen.sh)",
      "Bash(PATH=\"$HOME/.cargo/bin:$PATH\" cargo check:*)",
      "Bash(export PATH=\"/Users/macbook/.cargo/bin:$PATH\")",
      "Bash(/Users/macbook/.cargo/bin/cargo check:*)",
      "Bash(node /Volumes/MontereyT7/FLUXION/scripts/bump-version.js:*)",
      "Bash(node /Volumes/MontereyT7/FLUXION/scripts/bump-version.cjs:*)",
      "Bash(afplay:*)",
      "Bash(timeout 3 node:*)",
      "Bash(node test-mcp.js:*)",
      "Bash(head:*)",
      "Bash(wc:*)",
      "Bash(tar:*)",
      "Bash(git reset:*)",
      "Bash(kill:*)",
      "Bash(sleep:*)",
      "Bash(mkdir:*)",
      "Bash(touch:*)",
      "Bash(tail:*)",
      "WebFetch(domain:developers.yourang.ai)",
      "WebFetch(domain:www.yourang.ai)",
      "WebFetch(domain:groq.com)",
      "WebFetch(domain:console.groq.com)",
      "WebFetch(domain:v2.tauri.app)",
      "Bash(pip3 search:*)",
      "Bash(pip3 index:*)",
      "Bash(pip3 show:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION status)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION diff)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION log --oneline -5)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION diff --stat)",
      "Bash(Distasi\"\\), split and skip REGISTERING_SURNAME, go directly to phone\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git checkout:*)",
      "Bash(npx get-shit-done-cc:*)",
      "Bash(npx bmad-method@latest install)",
      "Skill(gsd:progress)",
      "Bash(pip3 list:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION log --oneline -3)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION add CLAUDE.md .claude/rules/rust-backend.md .claude/rules/react-frontend.md .claude/rules/voice-agent.md .claude/rules/testing.md docs/CONTEXT-OPTIMIZATION-GUIDE.md docs/context/BUG-TRACKER.md docs/context/BUSINESS-MODEL.md docs/context/INFRASTRUCTURE.md docs/context/PROJECT-STATUS.md docs/context/SUPPLIER-MANAGEMENT.md docs/context/VOICE-AGENT-ROADMAP.md)",
      "Bash(le 17\"\\). Add Groq LLM as Layer 2 fallback for surname extraction,\nphone-state corrections, confirmation parsing, and time preferences.\n\n- New groq_nlu.py: 4 state-specific extractors with JSON schema prompts\n- booking_state_machine.py: 3 Groq fallback patches \\(surname, phone, confirming\\)\n- entity_extractor.py: interjection blacklist + operator blacklist + time patterns\n- orchestrator.py: wire GroqNLU instance to BookingStateMachine\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "WebFetch(domain:pypi.org)",
      "Bash(PYTHONPATH=src python:*)",
      "Bash(1 ')",
      "Bash(voglio prenotare\"\\), _handle_idle skipped the greeting and went straight\nto ask_service. Now includes \"Piacere {name}!\" before the service question.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Volumes/MontereyT7/FLUXION add voice-agent/src/booking_state_machine.py voice-agent/src/orchestrator.py voice-agent/tests/test_booking_state_machine.py)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION commit -m \"$\\(cat <<''EOF''\nfix\\(voice\\): 4 Gino conversation bugs — name loss, multi-service, session reset, client lookup\n\nBUG 1: Registration surname \"Di Nanni\" no longer overwrites client_name \"Gino\".\n  sanitize_name_pair split was treated as full name; now checks if client_name\n  already set with a different value and treats input as surname instead.\n\nBUG 2: Multi-service \\(\"taglio e barba\"\\) now included in booking dict with\n  services \\(plural\\) and service_display fields. Wired extract_multi_services\n  from italian_regex as fallback. Orchestrator uses service_display in payload.\n\nBUG 4: Added reset_for_new_booking\\(\\) preserving client identity \\(id, name,\n  surname, phone, email\\) while clearing booking fields. Used on COMPLETED/\n  CANCELLED transitions instead of full reset\\(\\).\n\nBUG 5: _handle_idle skips DB lookup when client_id already set \\(follow-up\n  booking in same call\\). Shows \"Certo {name}!\" instead of re-searching.\n\n12 regression tests added, full suite: 877 passed, 0 failures.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Volumes/MontereyT7/FLUXION status --short)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION add:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION commit -m \"$\\(cat <<''EOF''\ndocs: update CLAUDE.md with Italian regex NLU + 4 bug fixes status\n\n877 tests passing. Italian regex module \\(650+ lines, 8 categories\\),\nL0-PRE content filter, 4 Gino conversation bugs fixed, live verified.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git status:*)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION commit:*)",
      "WebFetch(domain:www.kimi.com)",
      "Bash(IMAC=\"http://192.168.1.7:3002\" __NEW_LINE_3b8604fe83cf28b1__ echo \"=== STEP 0: Reset ===\" curl -s -X POST \"$IMAC/reset\")",
      "Bash(grep:*)",
      "mcp__claude_ai_Hugging_Face__hub_repo_search",
      "Bash(gh repo view --json name,owner,url 2>/dev/null || echo \"NO_GH\")",
      "Bash(which gh && gh auth status 2>&1 | head -5 || echo \"gh_not_auth\")",
      "Bash(which zeroclaw 2>/dev/null || echo \"not_found\"; zeroclaw --version 2>/dev/null || echo \"no_version\")",
      "Bash(which brew && brew --version 2>/dev/null | head -1; which cargo && cargo --version 2>/dev/null; which ffmpeg && ffmpeg -version 2>/dev/null | head -1; echo \"---\"; sw_vers)",
      "Bash(brew search zeroclaw 2>&1; brew info zeroclaw 2>&1 | head -5)",
      "WebFetch(domain:deepwiki.com)",
      "Bash(which zeroclaw 2>/dev/null && zeroclaw --version 2>/dev/null && echo \"INSTALLED\" || echo \"STILL_INSTALLING\")",
      "Bash(find /Volumes/MontereyT7/FLUXION -name \".env*\" -not -path \"*/node_modules/*\" 2>/dev/null\nfind /Volumes/MontereyT7/FLUXION/voice-agent -name \"*.env\" -o -name \".env\" 2>/dev/null\nls /Volumes/MontereyT7/FLUXION/voice-agent/ | grep -i env)",
      "Bash(which zeroclaw 2>/dev/null && zeroclaw --version 2>/dev/null && echo \"PRONTO\" || echo \"ANCORA IN CORSO\")",
      "Bash(export PATH=\"$HOME/bin:$PATH\"\nzeroclaw status 2>&1 | head -20)",
      "Bash(export PATH=\"$HOME/bin:$PATH\" && zeroclaw agent -m \"Rispondi solo con: OK\" 2>&1 | head -30)",
      "Bash(export PATH=\"$HOME/bin:/usr/local/bin:/usr/bin:/bin:$PATH\" && zeroclaw agent -m \"Rispondi solo con: OK\" 2>&1)",
      "Bash(export PATH=\"$HOME/bin:/usr/local/bin:/usr/bin:/bin:$PATH\"\nzeroclaw agent -m \"Rispondi solo con: OK\" 2>&1)",
      "Bash(export PATH=\"$HOME/bin:/usr/local/bin:/usr/bin:/bin:$PATH\"\nzeroclaw agent --help 2>&1)",
      "Bash(export PATH=\"$HOME/bin:/usr/local/bin:/usr/bin:/bin:$PATH\"\nzeroclaw agent -m \"Esegui questi comandi shell in sequenza e riportami l'output di ognuno:\n1. mkdir -p /tmp/fluxion-demo\n2. curl -s http://localhost:3002/health\n3. screencapture /tmp/fluxion-demo/frame_001.png && echo 'screenshot ok'\" 2>&1)",
      "Bash(gh repo list --json name,url --limit 20 2>/dev/null | python3 -c \"import sys,json; [print\\(r['name'], r['url']\\) for r in json.load\\(sys.stdin\\)]\")",
      "Bash(gh repo list 2>/dev/null | head -20)",
      "Bash(git -C /Volumes/MontereyT7/FLUXION remote -v && git -C /Volumes/MontereyT7/FLUXION log --oneline -10)",
      "Bash(export PATH=\"/Users/macbook/bin:$PATH\" && zeroclaw --version && command -v ffmpeg && echo \"✅ Tutti i prerequisiti OK\")",
      "Bash(export PATH=\"/Users/macbook/bin:$PATH\" && bash scripts/create-demo-video.sh 2>&1)",
      "WebFetch(domain:docs.aimlapi.com)",
      "WebFetch(domain:piapi.ai)",
      "WebFetch(domain:tongyi.aliyun.com)",
      "WebFetch(domain:www.byteplus.com)",
      "WebFetch(domain:www.aifreeapi.com)",
      "WebFetch(domain:aividpipeline.com)",
      "Bash(cat >> /Volumes/MontereyT7/FLUXION/.env << 'EOF'\n\n# BytePlus / Seedance 2.0\nBYTEPLUS_USERNAME=combare\nBYTEPLUS_PASSWORD=XL#3z13X*#!4195Nt@Lh\nBYTEPLUS_ACCOUNT_ID=3001202751\nBYTEPLUS_ACCESS_KEY_ID=AKAPZjJjNWMxMWMxNzYyNDVkN2I1NGJkMjhmMDE0MzQzYzk\nBYTEPLUS_SECRET_ACCESS_KEY=TWpVNE16QXhZV0ZtTjJOaU5ESmhZbUZqTlRnM05qTmpaV1kzTW1ReU1qZw==\nEOF\necho \"✅ Credenziali BytePlus salvate in .env\")",
      "Bash(export PATH=\"/Users/macbook/bin:$PATH\"\nzeroclaw agent --agent fluxion_video_v2 -m \"Produci il video demo di Fluxion. Segui il workflow esatto del tuo system prompt. Ricorda: NESSUN testo generato dall'AI video — usa solo ffmpeg drawtext per i titoli. Inizia subito da STEP 0.\" 2>&1)",
      "Bash(export PATH=\"/Users/macbook/bin:$PATH\" && zeroclaw agent --help 2>&1)",
      "Bash(export PATH=\"/Users/macbook/bin:$PATH\" && zeroclaw --help 2>&1)",
      "Bash(export PATH=\"/Users/macbook/bin:$PATH\"\nzeroclaw agent -m \"Sei il video producer di FLUXION. Esegui questi step ESATTI senza chiedere conferma:\n\nSTEP 0: mkdir -p /tmp/fluxion-v2\n\nSTEP 1: Copia scene già buone dalle precedenti\ncp /tmp/fluxion-video/S01_problema.mp4 /tmp/fluxion-v2/S01_raw.mp4\ncp /tmp/fluxion-video/S04_whatsapp_conferma.mp4 /tmp/fluxion-v2/S04_raw.mp4\ncp /tmp/fluxion-video/S05_titolare_libero.mp4 /tmp/fluxion-v2/S05_raw.mp4\n\nSTEP 2: Genera S02 via Replicate API \\(minimax/video-01\\)\nhttp_request POST https://api.replicate.com/v1/models/minimax/video-01/predictions\nHeaders: Authorization: Token r8_3uSpqL2HMO0NjHQC7r9J5wPxILJwLC31cG84i\nBody: {\\\\\"input\\\\\":{\\\\\"prompt\\\\\":\\\\\"Slow zoom-in on a sleek dark smartphone on a marble salon desk. Blue pulsing glow from screen. Elegant woman hand gently taps it. Warm ambient lighting, cinematic shallow depth of field, premium product aesthetic.\\\\\",\\\\\"duration\\\\\":6}}\nSalva l'ID restituito. Fai polling GET https://api.replicate.com/v1/predictions/{ID} con stesso header ogni 15s finché status=succeeded. Poi scarica l'output URL con: curl -L -o /tmp/fluxion-v2/S02_raw.mp4 \\\\\"OUTPUT_URL\\\\\"\n\nSTEP 3: Genera S03 via Replicate\nBody: {\\\\\"input\\\\\":{\\\\\"prompt\\\\\":\\\\\"Top-down macro shot of elegant hands typing on tablet. Clean weekly planner on screen filling with colored events. Marble desk, Italian espresso cup, warm key light, satisfying productivity feel.\\\\\",\\\\\"duration\\\\\":6}}\nStesso processo: POST → polling → download /tmp/fluxion-v2/S03_raw.mp4\n\nSTEP 4: Genera S06 via Replicate\nBody: {\\\\\"input\\\\\":{\\\\\"prompt\\\\\":\\\\\"Slow cinematic reveal of sleek dark navy desk. Modern MacBook opens slowly revealing glowing blue software interface. Soft key light from left, elegant bokeh background, premium Apple-style product photography.\\\\\",\\\\\"duration\\\\\":6}}\nStesso processo: POST → polling → download /tmp/fluxion-v2/S06_raw.mp4\n\nSTEP 5: Aggiungi titoli con ffmpeg drawtext su ogni scena \\(font: /System/Library/Fonts/Helvetica.ttc\\)\n\nS01: ffmpeg -y -i /tmp/fluxion-v2/S01_raw.mp4 -vf \\\\\"drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='Ogni giorno appuntamenti persi...':fontcolor=white:fontsize=44:x=\\(w-text_w\\)/2:y=h-90:box=1:boxcolor=black@0.6:boxborderw=12\\\\\" -c:a copy /tmp/fluxion-v2/S01_t.mp4\n\nS02: ffmpeg -y -i /tmp/fluxion-v2/S02_raw.mp4 -vf \\\\\"drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='Sara risponde per te — 24h su 24':fontcolor=white:fontsize=44:x=\\(w-text_w\\)/2:y=h-90:box=1:boxcolor=black@0.6:boxborderw=12\\\\\" -c:a copy /tmp/fluxion-v2/S02_t.mp4\n\nS03: ffmpeg -y -i /tmp/fluxion-v2/S03_raw.mp4 -vf \\\\\"drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='Il calendario si compila da solo':fontcolor=white:fontsize=44:x=\\(w-text_w\\)/2:y=h-90:box=1:boxcolor=black@0.6:boxborderw=12\\\\\" -c:a copy /tmp/fluxion-v2/S03_t.mp4\n\nS04: ffmpeg -y -i /tmp/fluxion-v2/S04_raw.mp4 -vf \\\\\"drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='Conferma WhatsApp automatica al cliente':fontcolor=white:fontsize=44:x=\\(w-text_w\\)/2:y=h-90:box=1:boxcolor=black@0.6:boxborderw=12\\\\\" -c:a copy /tmp/fluxion-v2/S04_t.mp4\n\nS05: ffmpeg -y -i /tmp/fluxion-v2/S05_raw.mp4 -vf \\\\\"drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='Piu tempo per te. Zero appuntamenti persi.':fontcolor=white:fontsize=44:x=\\(w-text_w\\)/2:y=h-90:box=1:boxcolor=black@0.6:boxborderw=12\\\\\" -c:a copy /tmp/fluxion-v2/S05_t.mp4\n\nS06: ffmpeg -y -i /tmp/fluxion-v2/S06_raw.mp4 -vf \\\\\"drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='FLUXION':fontcolor=white:fontsize=80:x=\\(w-text_w\\)/2:y=\\(h-text_h\\)/2-60:box=1:boxcolor=black@0.5:boxborderw=15,drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='Il gestionale che lavora per te':fontcolor=0x66CCFF:fontsize=40:x=\\(w-text_w\\)/2:y=\\(h-text_h\\)/2+20:box=1:boxcolor=black@0.4:boxborderw=10,drawtext=fontfile=/System/Library/Fonts/Helvetica.ttc:text='Licenza Lifetime da soli 197 euro':fontcolor=white:fontsize=36:x=\\(w-text_w\\)/2:y=h-90:box=1:boxcolor=black@0.7:boxborderw=12\\\\\" -c:a copy /tmp/fluxion-v2/S06_t.mp4\n\nSTEP 6: Concat\nprintf 'file /tmp/fluxion-v2/S01_t.mp4\\\\nfile /tmp/fluxion-v2/S02_t.mp4\\\\nfile /tmp/fluxion-v2/S03_t.mp4\\\\nfile /tmp/fluxion-v2/S04_t.mp4\\\\nfile /tmp/fluxion-v2/S05_t.mp4\\\\nfile /tmp/fluxion-v2/S06_t.mp4\\\\n' > /tmp/fluxion-v2/concat.txt\nffmpeg -y -f concat -safe 0 -i /tmp/fluxion-v2/concat.txt -c copy /tmp/fluxion-v2/demo_final.mp4\n\nSTEP 7: Verifica e apri\nls -lh /tmp/fluxion-v2/demo_final.mp4\nopen /tmp/fluxion-v2/demo_final.mp4\n\nInizia subito da STEP 0 senza chiedere conferme.\" 2>&1)",
      "Bash(ffmpeg -version 2>&1 | head -1)",
      "Bash(ffprobe -v quiet -print_format json -show_streams /tmp/fluxion-video/S01_problema.mp4 2>/dev/null | python3 -c \"import json,sys; s=[x for x in json.load\\(sys.stdin\\)['streams'] if x['codec_type']=='video'][0]; print\\(s['width'], s['height'], s['r_frame_rate']\\)\")",
      "Bash(ffmpeg -filters 2>&1 | grep -E \"drawtext|overlay|subtitles|ass\" | head -10)",
      "Bash(which ffmpeg && ffmpeg -buildconf 2>&1 | grep -E \"freetype|fontconfig|drawtext\")",
      "Bash(brew list | grep ffmpeg; brew info ffmpeg 2>&1 | grep -E \"freetype|fontconfig|--with\" | head -10)",
      "Bash(ffmpeg -filters 2>&1 | grep -c \"\"; ffmpeg -version 2>&1 | grep \"configuration\")",
      "Bash(ls -lh /tmp/fluxion-v2/demo_final.mp4 && ffprobe -v quiet -print_format json -show_format /tmp/fluxion-v2/demo_final.mp4 2>/dev/null | python3 -c \"import json,sys; f=json.load\\(sys.stdin\\)['format']; print\\(f'Durata: {float\\(f[\\\\\"duration\\\\\"]\\):.1f}s, Size: {int\\(f[\\\\\"size\\\\\"]\\)//1024//1024:.1f}MB'\\)\")",
      "Bash(gh repo view lukeeterna/fluxion-desktop --json hasPages,url 2>&1 | python3 -c \"import json,sys; d=json.load\\(sys.stdin\\); print\\(d\\)\" 2>/dev/null || echo \"check gh auth\"\ngh auth status 2>&1 | head -5)",
      "Bash(gh auth status 2>&1)",
      "Bash(GH_TOKEN=\"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\"\ncurl -s -H \"Authorization: token ${GH_TOKEN}\" \\\\\n  \"https://api.github.com/repos/lukeeterna/fluxion-desktop/pages\" | python3 -c \"\nimport json,sys\nd=json.load\\(sys.stdin\\)\nprint\\('URL:', d.get\\('html_url'\\)\\)\nprint\\('Branch:', d.get\\('source', {}\\).get\\('branch'\\)\\)\nprint\\('Path:', d.get\\('source', {}\\).get\\('path'\\)\\)\nprint\\('Status:', d.get\\('status'\\)\\)\n\")",
      "Bash(say -v \"?\" 2>/dev/null | grep -i \"ital\\\\|alice\\\\|federica\\\\|luca\" | head -10)",
      "Bash(ls -lh /tmp/fluxion-tutorial/fluxion_tutorial.mp4 && ffprobe -v quiet -print_format json -show_format /tmp/fluxion-tutorial/fluxion_tutorial.mp4 2>/dev/null | python3 -c \"import json,sys; f=json.load\\(sys.stdin\\)['format']; print\\(f'Durata: {float\\(f[\\\\\"duration\\\\\"]\\):.0f}s \\({float\\(f[\\\\\"duration\\\\\"]\\)/60:.1f} min\\), Size: {int\\(f[\\\\\"size\\\\\"]\\)//1024//1024:.1f}MB'\\)\")",
      "Bash(mkdir -p /Volumes/MontereyT7/FLUXION/scripts/video-remotion && cd /Volumes/MontereyT7/FLUXION/scripts/video-remotion && npm init -y 2>&1 | tail -3)",
      "Bash(zeroclaw skills list 2>/dev/null | head -20 || echo \"zeroclaw not in path\"\nls /Users/macbook/bin/zeroclaw 2>/dev/null && echo \"zeroclaw found\")",
      "mcp__claude_ai_Hugging_Face__space_search",
      "WebFetch(domain:www.remotion.dev)",
      "Bash(npx skills add remotion-dev/skills 2>&1)",
      "Bash(npx skills add remotion-dev/skills -y 2>&1 | tail -20)",
      "Bash(npx remotion add @remotion/transitions @remotion/media 2>&1 | tail -5)",
      "Bash(node --strip-types generate-audio.ts 2>&1)",
      "Bash(node --version && npx tsx --version 2>/dev/null | head -1 || npm install -g tsx 2>&1 | tail -2)",
      "Bash(npx --yes tsx generate-audio.ts 2>&1)",
      "Bash(npx tsx generate-audio.ts 2>&1 | head -20)",
      "Bash(npm install tsx --save-dev 2>&1 | tail -2 && npx tsx generate-audio.ts 2>&1)",
      "Bash(npx remotion compositions src/index.tsx 2>&1 | head -20)",
      "Bash(npx remotion compositions src/index.tsx 2>&1 | tail -10)"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "bash /Volumes/MontereyT7/FLUXION/.claude/hooks/session-start.sh"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": ".*voice.*|.*pipeline.*|.*Sara.*",
        "hooks": [
          {
            "type": "command",
            "command": "bash /Volumes/MontereyT7/FLUXION/.claude/hooks/check-services.sh"
          }
        ]
      }
    ]
  }
}
