# ğŸ—ï¸ MOCKUP INFRASTRUTTURA - FLUXION Vertical System

**Data**: 2026-02-03  
**Scope**: Architettura completa per 5 verticali con sistema licenze Ed25519

---

## ğŸ“ ARCHITETTURA AD ALTO LIVELLO

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FLUXION APPLICATION                                  â”‚
â”‚                    (Tauri 2.x + React 19 + SQLite)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     PRESENTATION LAYER (React)                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚   CRM Base  â”‚ â”‚  Scheduler  â”‚ â”‚  Invoices   â”‚ â”‚  Settings   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  (esiste)   â”‚ â”‚  (esiste)   â”‚ â”‚  (esiste)   â”‚ â”‚  (esiste)   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              VERTICAL MODULES (Nuovo)                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ğŸ’‡ PAR   â”‚ â”‚ğŸ’† EST   â”‚ â”‚ğŸ¥ FIS   â”‚ â”‚ğŸ¦· DEN   â”‚ â”‚ğŸš— MEC   â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚Parruch. â”‚ â”‚Estetistaâ”‚ â”‚Fisio    â”‚ â”‚Dentista â”‚ â”‚Meccanicoâ”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚â€¢Coloraz.â”‚ â”‚â€¢Analisi â”‚ â”‚â€¢Anamnesiâ”‚ â”‚â€¢Odontog.â”‚ â”‚â€¢Veicoli â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚â€¢Tagli   â”‚ â”‚â€¢Trattam.â”‚ â”‚â€¢Sedute  â”‚ â”‚â€¢Trattam.â”‚ â”‚â€¢Interv. â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚â€¢Formule â”‚ â”‚â€¢Pacchet.â”‚ â”‚â€¢Valutaz.â”‚ â”‚â€¢Impiantiâ”‚ â”‚â€¢Scadenzeâ”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     TAURI COMMANDS LAYER                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚   clienti   â”‚ â”‚ appuntamentiâ”‚ â”‚   servizi   â”‚ â”‚   license   â”‚â—„â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”
â”‚  â”‚  â”‚   (esiste)  â”‚ â”‚   (esiste)  â”‚ â”‚   (esiste)  â”‚ â”‚   (nuovo)   â”‚   â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚  â”‚
â”‚  â”‚                                                         â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚   par_cmd   â”‚ â”‚   est_cmd   â”‚ â”‚   fis_cmd   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  (nuovo)    â”‚ â”‚  (nuovo)    â”‚ â”‚  (nuovo)    â”‚                   â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚   den_cmd   â”‚ â”‚   mec_cmd   â”‚                                    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  (nuovo)    â”‚ â”‚  (nuovo)    â”‚                                    â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     DOMAIN LAYER (Rust)                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              LICENSE MODULE (Ed25519)                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   Models    â”‚ â”‚   Crypto    â”‚ â”‚      Verifier           â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  - License  â”‚ â”‚ - Ed25519   â”‚ â”‚  - Offline validation   â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  - Tier     â”‚ â”‚ - Sign/Ver  â”‚ â”‚  - Hardware lock        â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  - Vertical â”‚ â”‚ - Key mgmt  â”‚ â”‚  - Expiration check     â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              VERTICAL MODULES                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚par_mod  â”‚ â”‚est_mod  â”‚ â”‚fis_mod  â”‚ â”‚den_mod  â”‚ â”‚mec_mod  â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚-Models  â”‚ â”‚-Models  â”‚ â”‚-Models  â”‚ â”‚-Models  â”‚ â”‚-Models  â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚-Repo    â”‚ â”‚-Repo    â”‚ â”‚-Repo    â”‚ â”‚-Repo    â”‚ â”‚-Repo    â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚-Service â”‚ â”‚-Service â”‚ â”‚-Service â”‚ â”‚-Service â”‚ â”‚-Service â”‚â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     DATA LAYER (SQLite)                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚   clienti   â”‚ â”‚appuntamenti â”‚ â”‚   servizi   â”‚ â”‚ license_cfg â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   (esiste)  â”‚ â”‚   (esiste)  â”‚ â”‚   (esiste)  â”‚ â”‚   (nuovo)   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚par_colorazi.â”‚ â”‚est_analisi  â”‚ â”‚fis_anamnesi â”‚ â”‚den_odontog. â”‚   â”‚   â”‚
â”‚  â”‚  â”‚par_tagli    â”‚ â”‚est_trattam. â”‚ â”‚fis_sedute   â”‚ â”‚den_trattam. â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚   â”‚
â”‚  â”‚  â”‚mec_veicoli  â”‚                                                   â”‚   â”‚
â”‚  â”‚  â”‚mec_interventâ”‚                                                   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ IPC (Tauri)
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      VOICE AGENT (Python)                                    â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚                     â”‚  Vertical Registry  â”‚                                 â”‚
â”‚                     â”‚  (License-gated)    â”‚                                 â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                              â”‚                                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚         â–¼                    â–¼                    â–¼                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚    â”‚PAR Handlâ”‚         â”‚EST Handlâ”‚         â”‚FIS Handlâ”‚ ...                â”‚
â”‚    â”‚â€¢Greetingâ”‚         â”‚â€¢Greetingâ”‚         â”‚â€¢Greetingâ”‚                    â”‚
â”‚    â”‚â€¢Intents â”‚         â”‚â€¢Intents â”‚         â”‚â€¢Intents â”‚                    â”‚
â”‚    â”‚â€¢Entitiesâ”‚         â”‚â€¢Entitiesâ”‚         â”‚â€¢Entitiesâ”‚                    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” DETTAGLIO SISTEMA LICENZE

### Flusso Attivazione

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VENDOR     â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚  GENERATOR   â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   LICENSE    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   CUSTOMER   â”‚
â”‚  (You/Admin) â”‚      â”‚   (CLI Tool) â”‚      â”‚    FILE      â”‚      â”‚  (FLUXION)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                      â”‚                    â”‚                     â”‚
       â”‚ 1. Configura         â”‚ 2. Genera          â”‚ 3. Invia file       â”‚ 4. Importa
       â”‚    - Tier            â”‚    - Crea JSON     â”‚    - Email/USB      â”‚    - Verifica
       â”‚    - Verticali       â”‚    - Firma Ed25519 â”‚                     â”‚    - Salva
       â”‚    - Hardware ID     â”‚    - Salva .flux   â”‚                     â”‚
       â”‚                      â”‚                    â”‚                     â”‚
       â–¼                      â–¼                    â–¼                     â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                        LICENSE FILE (.flux)                               â”‚
   â”‚  {                                                                        â”‚
   â”‚    "version": 1,                                                          â”‚
   â”‚    "key": "FLUX-PRO-2026-XXXX",                                          â”‚
   â”‚    "tier": "professional",  // base|professional|enterprise              â”‚
   â”‚    "verticals": ["parrucchiere", "estetista"],                           â”‚
   â”‚    "hardware": {                                                          â”‚
   â”‚      "fingerprint": "sha256:abc123...",                                   â”‚
   â”‚      "cpu_serial": true,                                                  â”‚
   â”‚      "disk_serial": true,                                                 â”‚
   â”‚      "board_serial": true                                                 â”‚
   â”‚    },                                                                     â”‚
   â”‚    "issued_at": "2026-02-03T00:00:00Z",                                  â”‚
   â”‚    "expires_at": "2027-02-03T00:00:00Z",                                 â”‚
   â”‚    "features": {                                                          â”‚
   â”‚      "max_locations": 3,                                                  â”‚
   â”‚      "voice_agent": true,                                                 â”‚
   â”‚      "offline_mode": true                                                 â”‚
   â”‚    },                                                                     â”‚
   â”‚    "signature": "ed25519:base64..."  // Firma con chiave privata         â”‚
   â”‚  }                                                                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Sicurezza Implementata

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LIVELLI DI SICUREZZA                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  L1: CRYPTOGRAPHIC (Ed25519)                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ Firma digitale su tutto il file licenza                              â”‚ â”‚
â”‚  â”‚  â€¢ Chiave pubblica embedded nel binario (hardcoded)                     â”‚ â”‚
â”‚  â”‚  â€¢ Alterazione = invalidazione immediata                                â”‚ â”‚
â”‚  â”‚  â€¢ Algoritmo Ed25519 (usato da Signal, WireGuard, etc.)                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  L2: HARDWARE BINDING                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ Fingerprint hardware unico per macchina                              â”‚ â”‚
â”‚  â”‚  â€¢ CPU ID + Disk Serial + Motherboard Serial                            â”‚ â”‚
â”‚  â”‚  â€¢ Cambio hardware = richiede nuova licenza                             â”‚ â”‚
â”‚  â”‚  â€¢ Possibile "trasferimento" con tool admin                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  L3: OFFLINE ONLY                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ Zero chiamate di rete per verifica                                   â”‚ â”‚
â”‚  â”‚  â€¢ Funziona in ambienti air-gapped                                      â”‚ â”‚
â”‚  â”‚  â€¢ Nessun server da mantenere/attaccare                                 â”‚ â”‚
â”‚  â”‚  â€¢ Privacy totale (nessun tracking)                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  L4: TIER VALIDATION                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ Verticali abilitati esplicitamente nella licenza                     â”‚ â”‚
â”‚  â”‚  â€¢ UI mostra solo verticali autorizzati                                 â”‚ â”‚
â”‚  â”‚  â€¢ Voice Agent carica solo handler autorizzati                          â”‚ â”‚
â”‚  â”‚  â€¢ Tentativo accesso verticale non licenziato = errore                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ STRUTTURA FILE DETTAGLIATA

### Rust Backend
```
src-tauri/src/
â”‚
â”œâ”€â”€ lib.rs                      # Entry point (modificato)
â”œâ”€â”€ main.rs                     # Main (modificato)
â”‚
â”œâ”€â”€ license/                    # ğŸ” NUOVO: Sistema licenze
â”‚   â”œâ”€â”€ mod.rs                  # Pub exports
â”‚   â”œâ”€â”€ models.rs               # License, LicenseTier, VerticalType
â”‚   â”œâ”€â”€ crypto.rs               # Ed25519 verification
â”‚   â”œâ”€â”€ hardware.rs             # Hardware fingerprinting
â”‚   â”œâ”€â”€ manager.rs              # LicenseManager (cache, validation)
â”‚   â””â”€â”€ error.rs                # LicenseError enum
â”‚
â”œâ”€â”€ verticals/                  # ğŸ¢ NUOVO: 5 verticali
â”‚   â”œâ”€â”€ mod.rs                  # Registry, VerticalType enum
â”‚   â”œâ”€â”€ types.rs                # Shared vertical types
â”‚   â”‚
â”‚   â”œâ”€â”€ parrucchiere/           # ğŸ’‡ FASE 1
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ models.rs           # Colorazione, Taglio
â”‚   â”‚   â”œâ”€â”€ repository.rs       # SQLite CRUD
â”‚   â”‚   â””â”€â”€ service.rs          # Business logic
â”‚   â”‚
â”‚   â”œâ”€â”€ estetista/              # ğŸ’† FASE 1
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ models.rs           # AnalisiPelle, Trattamento
â”‚   â”‚   â”œâ”€â”€ repository.rs
â”‚   â”‚   â””â”€â”€ service.rs
â”‚   â”‚
â”‚   â”œâ”€â”€ fisioterapia/           # ğŸ¥ FASE 2
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ models.rs           # Anamnesi, Seduta
â”‚   â”‚   â”œâ”€â”€ repository.rs
â”‚   â”‚   â””â”€â”€ service.rs
â”‚   â”‚
â”‚   â”œâ”€â”€ dentista/               # ğŸ¦· FASE 3
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ models.rs           # Odontogramma, Trattamento
â”‚   â”‚   â”œâ”€â”€ repository.rs
â”‚   â”‚   â””â”€â”€ service.rs
â”‚   â”‚
â”‚   â””â”€â”€ meccanico/              # ğŸš— FASE 4
â”‚       â”œâ”€â”€ mod.rs
â”‚       â”œâ”€â”€ models.rs           # Veicolo, Intervento
â”‚       â”œâ”€â”€ repository.rs
â”‚       â””â”€â”€ service.rs
â”‚
â”œâ”€â”€ commands/                   # ğŸ”Œ TAURI COMMANDS
â”‚   â”œâ”€â”€ mod.rs                  # (esistente)
â”‚   â”œâ”€â”€ clienti.rs              # (esistente)
â”‚   â”œâ”€â”€ appuntamenti.rs         # (esistente)
â”‚   â”œâ”€â”€ license.rs              # NUOVO: activate_license, get_license_info
â”‚   â””â”€â”€ verticals/              # NUOVO
â”‚       â”œâ”€â”€ mod.rs
â”‚       â”œâ”€â”€ parrucchiere.rs
â”‚       â”œâ”€â”€ estetista.rs
â”‚       â”œâ”€â”€ fisioterapia.rs
â”‚       â”œâ”€â”€ dentista.rs
â”‚       â””â”€â”€ meccanico.rs
â”‚
â””â”€â”€ database/                   # (esistente)
    â””â”€â”€ migrations/             # NUOVE MIGRATIONS
        â”œâ”€â”€ 019_vertical_type.sql
        â”œâ”€â”€ 020_license_config.sql
        â”œâ”€â”€ 021_par_tables.sql
        â”œâ”€â”€ 022_est_tables.sql
        â”œâ”€â”€ 023_fis_tables.sql
        â”œâ”€â”€ 024_den_tables.sql
        â””â”€â”€ 025_mec_tables.sql
```

### React Frontend
```
src/
â”‚
â”œâ”€â”€ verticals/                  # ğŸ¢ NUOVO
â”‚   â”œâ”€â”€ config.ts               # Configurazione 5 verticali
â”‚   â”œâ”€â”€ types.ts                # TypeScript types
â”‚   â”‚
â”‚   â”œâ”€â”€ parrucchiere/           # ğŸ’‡ FASE 1
â”‚   â”‚   â”œâ”€â”€ index.tsx           # Export componenti
â”‚   â”‚   â”œâ”€â”€ ParrucchiereModule.tsx
â”‚   â”‚   â”œâ”€â”€ tabs/
â”‚   â”‚   â”‚   â”œâ”€â”€ ColorazioniTab.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TagliTab.tsx
â”‚   â”‚   â””â”€â”€ forms/
â”‚   â”‚       â”œâ”€â”€ ColorazioneForm.tsx
â”‚   â”‚       â””â”€â”€ TaglioForm.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ estetista/              # ğŸ’† FASE 1
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ EstetistaModule.tsx
â”‚   â”‚   â”œâ”€â”€ tabs/
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalisiPelleTab.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TrattamentiTab.tsx
â”‚   â”‚   â””â”€â”€ forms/
â”‚   â”‚       â”œâ”€â”€ AnalisiForm.tsx
â”‚   â”‚       â””â”€â”€ TrattamentoForm.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ fisioterapia/           # ğŸ¥ FASE 2
â”‚   â”‚   â”œâ”€â”€ tabs/
â”‚   â”‚   â”‚   â”œâ”€â”€ AnamnesiTab.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SeduteTab.tsx
â”‚   â”‚   â””â”€â”€ forms/
â”‚   â”‚
â”‚   â”œâ”€â”€ dentista/               # ğŸ¦· FASE 3
â”‚   â”‚   â”œâ”€â”€ tabs/
â”‚   â”‚   â”‚   â”œâ”€â”€ OdontogrammaTab.tsx      # Grafico 32 denti
â”‚   â”‚   â”‚   â””â”€â”€ TrattamentiTab.tsx
â”‚   â”‚   â””â”€â”€ forms/
â”‚   â”‚
â”‚   â””â”€â”€ meccanico/              # ğŸš— FASE 4
â”‚       â”œâ”€â”€ tabs/
â”‚       â”‚   â”œâ”€â”€ VeicoliTab.tsx
â”‚       â”‚   â”œâ”€â”€ InterventiTab.tsx
â”‚       â”‚   â””â”€â”€ ScadenzeTab.tsx
â”‚       â””â”€â”€ forms/
â”‚
â”œâ”€â”€ components/verticals/       # ğŸ§© COMPONENTI CONDIVISI
â”‚   â”œâ”€â”€ VerticalSelector.tsx    # Seleziona verticale cliente
â”‚   â”œâ”€â”€ SchedaClienteVerticale.tsx  # Container principale
â”‚   â”œâ”€â”€ VerticalBadge.tsx       # Badge verticale
â”‚   â”œâ”€â”€ LicenseStatus.tsx       # Stato licenza UI
â”‚   â””â”€â”€ VerticalLocked.tsx      # Overlay "Acquista licenza"
â”‚
â”œâ”€â”€ hooks/                      # ğŸª CUSTOM HOOKS
â”‚   â”œâ”€â”€ useLicense.ts           # Gestione licenza
â”‚   â”œâ”€â”€ useVertical.ts          # Info verticale corrente
â”‚   â””â”€â”€ useVerticalLicense.ts   # Combina license + vertical
â”‚
â””â”€â”€ pages/                      # (esistente)
    â””â”€â”€ ClienteDetail.tsx       # MODIFICATO: aggiungi tabs verticali
```

### Voice Agent
```
voice-agent/
â”‚
â”œâ”€â”€ verticals/                  # ğŸ™ï¸ NUOVO
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ registry.py             # Registro handler verticali
â”‚   â”œâ”€â”€ base.py                 # BaseVerticalHandler ABC
â”‚   â”œâ”€â”€ classifier.py           # Rilevamento verticale da testo
â”‚   â”‚
â”‚   â”œâ”€â”€ parrucchiere.py         # ğŸ’‡ FASE 1
â”‚   â”œâ”€â”€ estetista.py            # ğŸ’† FASE 1
â”‚   â”œâ”€â”€ fisioterapia.py         # ğŸ¥ FASE 2
â”‚   â”œâ”€â”€ dentista.py             # ğŸ¦· FASE 3
â”‚   â””â”€â”€ meccanico.py            # ğŸš— FASE 4
â”‚
â”œâ”€â”€ license_manager.py          # ğŸ” NUOVO
â”‚   # Carica verticali abilitati da config condivisa
â”‚
â””â”€â”€ orchestrator.py             # MODIFICATO
    # Carica solo handler verticali abilitati
```

---

## ğŸ”„ FLUSSO DATI - ESEMPIO PARRUCCHIERE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUSSO: Nuova Colorazione                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. UI (ColorazioneForm.tsx)                                                 â”‚
â”‚     â””â”€â”€ Utente inserisce: tipo, formulazione, colore, foto                   â”‚
â”‚                                                                              â”‚
â”‚  2. HOOK (useVertical.ts)                                                    â”‚
â”‚     â””â”€â”€ Chiama: invoke('create_colorazione', {...})                          â”‚
â”‚                                                                              â”‚
â”‚  3. COMMAND (parrucchiere.rs)                                                â”‚
â”‚     â””â”€â”€ Estrae state, chiama service.create_colorazione()                    â”‚
â”‚                                                                              â”‚
â”‚  4. SERVICE (parrucchiere/service.rs)                                        â”‚
â”‚     â””â”€â”€ Validazione business logic                                           â”‚
â”‚         â””â”€â”€ Esempio: Verifica se cliente ha licenza "parrucchiere"           â”‚
â”‚                                                                              â”‚
â”‚  5. REPOSITORY (parrucchiere/repository.rs)                                  â”‚
â”‚     â””â”€â”€ INSERT INTO par_colorazioni (...)                                    â”‚
â”‚                                                                              â”‚
â”‚  6. DATABASE (SQLite)                                                        â”‚
â”‚     â””â”€â”€ Riga inserita in par_colorazioni                                     â”‚
â”‚                                                                              â”‚
â”‚  7. RESPONSE (JSON)                                                          â”‚
â”‚     â””â”€â”€ Tauri restituisce risultato a React                                  â”‚
â”‚                                                                              â”‚
â”‚  8. UI UPDATE                                                                â”‚
â”‚     â””â”€â”€ ColorazioniTab ricarica lista                                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª TOOL GENERAZIONE LICENZE

```rust
// tools/license-cli/main.rs
// Compilato separatamente con PRIVATE_KEY embeddata

fn main() {
    let args = Args::parse();
    
    // Esempio uso:
    // ./license-cli generate \
    //   --tier professional \
    //   --verticals parrucchiere,estetista \
    //   --hardware "sha256:abc123..." \
    //   --days 365 \
    //   --output cliente123.flux
    
    let license = License::builder()
        .key(generate_random_key())
        .tier(args.tier)
        .verticals(args.verticals.split(','))
        .hardware_fingerprint(args.hardware)
        .expires_after(Duration::days(args.days))
        .sign_with(PRIVATE_KEY)
        .build();
    
    std::fs::write(
        args.output,
        serde_json::to_string_pretty(&license).unwrap()
    ).unwrap();
    
    println!("âœ… Licenza generata: {}", args.output);
    println!("   Tier: {:?}", license.tier);
    println!("   Verticali: {:?}", license.verticals);
    println!("   Scadenza: {:?}", license.expires_at);
}
```

---

## ğŸ“Š RIEPILOGO IMPLEMENTAZIONE PER FASI

### FASE 1: Parrucchiere + Estetista
**PrioritÃ **: Alta | **Tempo stimato**: 3-4 giorni

| Componente | Stato | Dettaglio |
|------------|-------|-----------|
| DB Tables | â¬œ | par_colorazioni, par_tagli, est_analisi_pelle, est_trattamenti |
| Rust Models | â¬œ | 4 modelli con validazione |
| Rust Repository | â¬œ | CRUD completo |
| Rust Service | â¬œ | Business logic |
| Tauri Commands | â¬œ | 10 commands (5 per verticale) |
| React UI | â¬œ | 4 tabs + 4 forms |
| Voice Handler | â¬œ | 2 handler con intents |

### FASE 2: Fisioterapia
**PrioritÃ **: Alta | **Tempo stimato**: 2-3 giorni

### FASE 3: Dentista
**PrioritÃ **: Alta | **Tempo stimato**: 3-4 giorni (odontogramma grafico complesso)

### FASE 4: Meccanico
**PrioritÃ **: Media | **Tempo stimato**: 2-3 giorni

---

## âœ… APPROFONDIMENTO SICUREZZA

### PerchÃ© Ed25519 Ã¨ il meglio per questo use case?

| Caratteristica | Ed25519 | RSA-2048 | ECDSA |
|----------------|---------|----------|-------|
| **Dimensione chiave** | 32 byte | 256 byte | 32-64 byte |
| **Dimensione firma** | 64 byte | 256 byte | 64 byte |
| **VelocitÃ  verify** | âš¡ Molto veloce | ğŸ¢ Lenta | ğŸš€ Veloce |
| **Sicurezza** | ğŸ”’ Eccellente | ğŸ”’ Buona | âš ï¸ Debole curve |
| **Implementazione** | Semplice | Complessa | Media |
| **Uso in prod** | Signal, WireGuard, TLS 1.3 | Legacy | Bitcoin |

### VulnerabilitÃ  gestite

```
ATTACCO:          MITIGAZIONE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Key sharing       Hardware fingerprinting
Tampering         Ed25519 signature
Replay            Expiration date
Brute force       Random 256-bit key
Reverse engineer  Binary obfuscation (release)
Memory dump       License not in memory (verify on load)
```

### Confronto con alternative trovate

| Soluzione | Tipo | Self-hosted | Offline | Sicurezza | Note |
|-----------|------|-------------|---------|-----------|------|
| **Ed25519 Custom** | OSS | âœ… | âœ… | ğŸ”’ Alta | âœ… Scelta consigliata |
| Keygen EE | Fair Source | âœ… | âš ï¸ Parziale | ğŸ”’ Alta | Richiede server |
| f-license | OSS | âœ… | âœ… | ğŸ”’ Media | MongoDB dipendenza |
| Cryptolens | SaaS | âŒ | âŒ | ğŸ”’ Alta | Online only |

---

Vuoi che proceda con l'implementazione della **FASE 1** (Parrucchiere + Estetista) seguendo questo mockup?
